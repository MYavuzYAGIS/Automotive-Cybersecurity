<!DOCTYPE html>
<html>
<head>
<title>notes.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="automotive-ethernet">Automotive Ethernet</h1>
<h3 id="general-ethernet">General Ethernet :</h3>
<p>Ethernet is used for <code>Bandwith</code></p>
<p>In vehicles, low power consumption is important. Also , requirement for ECU(Electronic Control Unit) is to be able to comletely wake up from sleep under 100 miliseconds.</p>
<p>Standard 4 wires ethernet cannot handle this speed currently.</p>
<p>So instead of standard ethernet, we use <code>Automotive Ethernet</code> which can take care of these issues.</p>
<h3 id="comparing-ethernet-to-cancontroller-area-network-and-flexray">Comparing Ethernet to CAN(Controller Area Network) and FLEXRAY</h3>
<h2 id="can">CAN:</h2>
<p>it is a multidrop (bus) technlogy where user can add / remove nodes.</p>
<p>Multidrop or bus technology means every node or every ecu is pysically, electrically connected to the same wires as ever other node.</p>
<p>single twisted pair copper wire. =&gt; low cost/ light weight
easy for <code>plug and play</code>
<code>Message</code> or <code>Packet</code> based communication.</p>
<p>Unique for CAN is that <strong><code>Non-Destructive Arbitration</code></strong> for handling message or packet <code>collisions</code>.</p>
<p>This is handled in the arbitration section or the arbitration ID of the can network. So when there is a possible collision risk , the arbitration ID is used to identify the message or packet. and the packet or the message with the smaller ID is sent first, whereas the packet or the message with the larger ID is sent later but <em><code>WITHOUT A NEED FOR RE-TRANSMISSION</code></em>.</p>
<p>so lower ID number transmits first, other one waits, not not getting killed just waits.
And nodes that transmits the higher ID packet also understands the situatuin and also waits.</p>
<p>This has a drawback: nodes that lost the arbitration (the ones sending the higher ID packet) will have to wait. <em>this maskes CAN not as time-critical and accurate in time</em>.</p>
<p>This is why FlexRay was developed</p>
<h2 id="flexray">FlexRay:</h2>
<p>it is similar to CAN in terms of wiring. it is a <em>MultiDrop</em> technology BUT <code>all nodes must be pre-programmed wit a fixed configuration</code></p>
<p>up to 10Mb/s. speed.
also good for plug and play.
message or packet based communication.</p>
<p>==&gt; <em>Collision avoidance is based on time slots for each node</em></p>
<p>Eveyn node in FlexRay is aware of time base so this helps each node to understand when it is allowed to transmit. So basically there is a cycle time, and it is divided into slices and each node has its own time slot where it is allowed to transmit.
So colisions dont happen in flexray.</p>
<p>This helps very accurate in time and security critical.</p>
<h2 id="automative-ethernet">Automative Ethernet :</h2>
<p><em>(100Base-T)/(1000Base-T)</em></p>
<p>==&gt; base means this is the speed at the slowest rate
==&gt; T1 means single twisted cable</p>
<p>Modern ethernet technologies, be it automotive or not, is NOT a bus technology anymore. Instead, it is <em>point-to-point technology.</em> This means that each node is connected to only one other node.
for multiple communication, we need to introduce a <code>SWITCH</code>.</p>
<p>Switch distributes the traffic to the nodes within a network based on their <code>pysicall adress</code> that.</p>
<p>Today commercially there are 100base and 1000base ethernet, 100 meaning 100Mb/s, 1000 meaning 1Gb/s.</p>
<p>Note that automotive ethenetnet is very cost effective network but not enough for <code>uncompressed audio and video streaming</code> since they handle around 10MBits.</p>
<p><img src="file:///Users/myyagis/Desktop/Automot/ss/ss1.png" alt=""></p>
<p>In bus technology, all the node load can be used and it is  locked to 100 or 1000 mbits. in ethernet, however, it is not the case, aggregate bandwith can exceed 100 or 1000.</p>
<h2 id="networking-topologies">Networking Topologies :</h2>
<ul>
<li>Defines how device are connected to each other.</li>
<li>Defines how the device communicate with each other.</li>
<li>Determines network characteristics.</li>
<li>Simple Technologies:</li>
<li>
<ul>
<li>Point to Point(port)</li>
</ul>
</li>
<li>
<ul>
<li>Ring (Also Etnernet, used for safety critical technologies)</li>
</ul>
</li>
<li>
<ul>
<li>Star (ethernet) like one switch with many ports</li>
</ul>
</li>
<li>
<ul>
<li>Bus (chained or attached) like CAN , FLEXRAY</li>
</ul>
</li>
<li>Complex topologies can combine these(like mesh)</li>
</ul>
<h4 id="hierarchical-star-topology">Hierarchical Star topology :</h4>
<p>also known as <code>tree</code> topology, where each star topology represents a node and they are also intercoonected to each other via a switch.  you can add / remove nodes without effecting the rest of the nodes.</p>
<p>====***=====</p>
<p>Note that today's ethernet network are a <code>switched network</code>, devcices connected through switch, it optimizes the traffic flow, buffering eliminates the colisions.</p>
<p><img src="file:///Users/myyagis/Desktop/Automot/ss/ss2.png" alt=""></p>
<p>In this pic , there are three ports (A,B,C) and physically A is connected to only it's corresponding Port(Display), same for B and C. and Under each node, it works as a separate network.
This eliminates the possibility of colisions because each node is communicating through only one dedicated port.</p>
<p>(this is the difference between this and CAN/FlexRay)</p>
<h3 id="osi-model">OSI Model</h3>
<p><img src="file:///Users/myyagis/Desktop/Automot/ss/OSI.png" alt=""></p>
<p>Automotive ethernet, compared to normal ethernet, proioritizes the Physical layer of OSI model.</p>
<p><img src="file:///Users/myyagis/Desktop/Automot/ss/ss4.png" alt=""></p>
<ul>
<li>Ethernet PHY = Physical layer</li>
<li>MII = Media Independent Interface</li>
<li>Ethernet MAC = Media Access Control</li>
</ul>
<p>MII is connected to Ethernet MAC.</p>
<p><em>Punchline: Why Ethernet is Used and how it changes between regular vs automotive</em></p>
<pre class="hljs"><code><div>MAC stays constant and all the layers under Pyhsical layer are also stays constant. This MAC table, once connected, hosts all the addresses etc and statically keeps these. So it gives ability to easily swap the Ethernet PHY and MAC stays the same, also all the other layers are intact.

This gives ability to change and adapt overtime.

Automotive internet is an adaptation of it where only the physical layer is changed.
Hence talking about `Automotive Ethernet` basically meaning a change in the Pyhsical layer only
This is adaptability and flexibility for the thanks to Ethernet!
</div></code></pre>
<p>====***=====</p>
<h4 id="consumer-ethernet-media">Consumer Ethernet Media:</h4>
<p>Coax ==&gt; 100Base-2 ==&gt; half duplex ==&gt; obsolete in commercial, used in industry for <code>DiagnosticsOverIP</code> purposes.</p>
<p>10/100 Ethernet 100MB/s ==&gt; 10/100BASE-TX ==&gt; full duplex =&gt; 2 twisted=4 wires.</p>
<p>Gigabit Ethernet 1Gb/s ==&gt; 1000BASE-T ==&gt; full duplex =&gt; 4 twisted=8 wires.</p>

</body>
</html>
